---
import EmailIcon from "../../../assets/icons/social/EmailIcon.astro";
import GithubIcon from "../../../assets/icons/social/GithubIcon.astro";
import LinkedinIcon from "../../../assets/icons/social/LinkedinIcon.astro";
import TwitterIcon from "../../../assets/icons/social/TwitterIcon.astro";

import SocialLinkContainer from "./SocialLinkContainer.astro";

const iconClass =
  "hover:text-primary hover:scale-105 box-content transition-transform duration-75 px-2.5 h-5 w-5";
---

<address
  class="flex w-full items-center justify-center gap-2.5 sm:justify-start"
>
  <SocialLinkContainer
    url="https://github.com/leonpahole"
    alt="Github (opens in new tab)"
    class="social-link"
  >
    <GithubIcon class={iconClass} />
  </SocialLinkContainer>

  <SocialLinkContainer
    url="https://www.linkedin.com/in/leon-pahole-089ab1248/"
    alt="LinkedIn (opens in new tab)"
    class="social-link"
  >
    <LinkedinIcon class={iconClass} />
  </SocialLinkContainer>

  <SocialLinkContainer
    url="https://twitter.com/leonpahole"
    alt="Twitter (opens in new tab)"
    class="social-link"
  >
    <TwitterIcon class={iconClass} />
  </SocialLinkContainer>

  <SocialLinkContainer
    url="mailto:leon.pahole@gmail.com"
    alt="Email"
    class="social-link"
  >
    <EmailIcon class={iconClass} />
  </SocialLinkContainer>
</address>

<script is:inline>
  const contact = new URL(document.location).searchParams.get("contact");
  const indexClassMap = {
    0: "animate-[wiggle_.7s_4_0ms]",
    1: "animate-[wiggle_.7s_4_100ms]",
    2: "animate-[wiggle_.7s_4_200ms]",
    3: "animate-[wiggle_.7s_4_300ms]",
  };

  if (contact != null) {
    const socialLinks = document.getElementsByClassName("social-link");
    [...socialLinks].forEach((link, i) => {
      link.classList.add(indexClassMap[i]);
    });
  }
</script>
